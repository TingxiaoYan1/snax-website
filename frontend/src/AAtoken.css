/* =============================
    Design Tokens
    ============================= */
:root{
  /* Colors */
  --color-primary-1: #FFF8DD;   /* warm cream (brand background, not used as page bg) */
  --color-primary-2: #DDDDDD;   /* thin-stroke neutral */
  --color-primary-3: #23301F;   /* deep green/ink */

  --color-accent-1: #FDDC00;    /* yellow */
  --color-accent-2: #1466B1;    /* blue */
  --color-accent-3: #1DAA6B;    /* green */
  --color-accent-4: #ED7184;    /* pink */

  /* Typography families */
  --font-serif: "Instrument Serif", Georgia, serif;  /* serif */
  --font-body: "Archivo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; /* body & UI */

  /* Type sizes (mobile default) */
  --fs-body: 16px;                /* body */
  --fs-button: 15px;              /* button */
  --fs-display: 32px;             /* mobile display */
  --fs-h1: 24px;                  /* mobile h1 */
  --fs-h2: 20px;                  /* mobile h2 */
  --fs-h3: 18px;                  /* mobile h3 */

  /* Weights */
  --fw-regular: 400;
  --fw-semibold: 600;
  --fw-bold: 700;

  /* Layout */
  --thin-stroke: var(--color-primary-2);
  --ink: var(--color-primary-3);
  --bg: #fffdf7; /* page background set to white per request */



  /* Fixed bars heights (mobile default) */
  --h-slogan: 28px;
  --h-header: 74px;
  --h-tab: 52px; /* bottom bar on mobile */
  --fixed-offset: calc(var(--h-slogan) + var(--h-header));

  /* Radii (only for buttons per brief) */
  --radius-button: 10px;

  /* Spacing */
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --content-max: 1200px;
}

/* Desktop breakpoint */
@media (min-width: 768px){
  :root{
    --fs-display: 48px;  /* web display */
    --fs-h1: 32px;        /* web h1 */
    --fs-h2: 24px;        /* web h2 */
    --fs-h3: 20px;        /* web h3 */

    --h-slogan: 32px;
    --h-header: 74px;
    --h-tab: 52px; /* top tab height on desktop (not fixed) */
    --fixed-offset: calc(var(--h-slogan) + var(--h-header));
  }
}

/* =============================
    Base / Reset
    ============================= */
*, *::before, *::after{ box-sizing: border-box; }
html, body{ height: 100%; }
body{
  margin: 0;
  font-family: var(--font-body);
  font-size: var(--fs-body);
  line-height: 1.4;
  color: var(--ink);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img{ max-width: 100%; display: block; }
a{ color: inherit; text-decoration: none; }
button{ font: inherit; color: inherit; background: transparent; border: none; padding: 0; }
input, textarea{ font: inherit; }

/* Content container */
.container{ width: min(100%, var(--content-max)); margin-inline: auto; padding-inline: var(--space-4); }

/* Each major section has thin top & bottom strokes */
.section{ border-top: 1px solid var(--thin-stroke); border-bottom: 1px solid var(--thin-stroke); background: var(--bg); }

/* =============================
    Fixed Slogan (marquee)
    ============================= */
.slogan{ position: fixed; top: 0; left: 0; right: 0; height: var(--h-slogan); z-index: 50;background-color: #23301F;color: #DDDDDD; }
.slogan .container{ height: 100%; display: flex; align-items: center; overflow: hidden; }
.slogan__track{ display: flex; gap: var(--space-6); white-space: nowrap; animation: ticker 10s linear infinite; }
.slogan__item{ font-family: var(--font-serif); font-size: 16px; font: 700;}
@keyframes ticker{
  from{ transform: translateX(0); }
  to{ transform: translateX(-50%); }
}

/* =============================
    Fixed Header
    ============================= */
.header{ 
  position: fixed; 
  top: var(--h-slogan); 
  left: 0; right: 0; 
  height: var(--h-header); 
  z-index: 40;
background-color: white; }

.header__inner{ height: 100%; display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: var(--space-4); }

/* Logo (no radius) */
.header__logo{ display: flex; align-items: center; min-width: 120px; }
.header__logo img{ height: 45px; width: auto; }

/* Search */
.header__search{ display: flex; }
.search{ width: 100%; display: flex; }
.search__input{
  flex: 1 1 auto;
  padding: 8px 10px;
  border: 1px solid var(--color-primary-2);
  border-radius: 0 30px 30px 0 ;
  background:var(--color-primary-1) /* keep input readable */
;
}

.search__button{
  padding: 10px 10px;
  ;
  border-radius: 30px 0 0 30px;
  background: transparent;
  cursor: pointer;
}

/* Right icons */
.header__icons{ display: flex; align-items: center; gap: var(--space-3); }
.icon-btn{ width: 36px; height: 36px; display: grid; place-items: center; border: 1px solid var(--thin-stroke); border-radius:30px; cursor: pointer; }
.icon{ width: 18px; height: 18px; display: block; }

/* =============================
    Tab Bar (top on desktop, fixed bottom on mobile)
    ============================= */
.tabbar{ 
  position: fixed; 
  bottom: 0; left: 0; right: 0; 
  height: var(--h-tab); 
  z-index: 50; display: 
  flex; align-items: center; 
  background: rgb(255, 255, 255)}

.tabbar__nav{ 
  display: grid; 
  grid-template-columns: 
  repeat(4, 1fr); 
  gap: var(--space-2); 
  height: 100%; }

.tabbar__link{ 
  display: grid;
  font-weight:bold;
    place-items: center; 
    font-size: 16px; padding:12px;text-transform:
    none; 
  color:rgb(0, 0, 0);
  }

.tabbar__link[aria-current="page"], .tabbar__link--active{ color:var(--color-primary-3);border-bottom:2px solid var(--color-primary-3)}

@media (min-width: 768px){
  .tabbar{
    position: sticky;
    top: calc(var(--h-slogan) + var(--h-header));
    width:100%; /* 刚好贴在 Header 下 */
    z-index: 35;                                  /* 层级在 header(40) 之下即可 */
}
  
  .tabbar__nav{ grid-template-columns: repeat(4, 1fr); justify-content: start; }
  .tabbar__link{  padding: 4px 8px; font-size: 18px;  }
}





/* =============================
    Main
    ============================= */
main{
  padding-top: var(--fixed-offset);
  padding-bottom: var(--h-tab); /* reserve space for bottom bar on mobile */
  min-height: 100dvh;
}
@media (min-width: 768px){
  main{ padding-bottom: 0; }
}



main{background:#fafafa}
.hero{background:lightgrey; color:#222; display:grid; place-items:center;border-radius: 30px;}
.hero.section{padding:16px; margin:30px}
.hero h1{margin:0}

.banners{display:grid; gap:var(--space-4)}
.banner{display:grid; place-items:center; color:#222; background:var(--primary-1)}
.banner{border:1px solid var(--stroke); border-radius: 30px;}
.banner--a{background:lightgrey}
.banner--b{background:lightgrey}
.banner--c{background:lightgrey}

/* Aspect / sizing */
.hero{min-height:40vh}
.banner{aspect-ratio: 16/9}









/* =============================
    Footer (black bg, white text)
    ============================= */
.footer{ background: #000; color: #fff; }
.footer__inner{ padding-block: 28px; display: grid; gap: 24px; }
.footer__logo{ display: grid; place-items: center; }
.footer__logo img{ height: 36px; width: auto; filter: brightness(0) invert(1); }
.footer__grid{ display: grid; gap: 16px; grid-template-columns: 1fr 1fr; }
.footer__col h4{ margin: 0 0 8px; font-size: 14px; font-weight: var(--fw-semibold); }
.footer__col a{ display: block; font-size: 13px; opacity: 0.9; margin: 6px 0; }

@media (min-width: 768px){
  .footer__inner{ grid-template-rows: auto auto; }
  .footer__grid{ grid-template-columns: repeat(4, 1fr); }
}

/* Utilities */
.visually-hidden{ position: absolute !important; clip: rect(1px,1px,1px,1px); clip-path: inset(50%); width: 1px; height: 1px; margin: -1px; overflow: hidden; padding: 0; border: 0; white-space: nowrap; }

/* ===== Explore layout container ===== */
.explore-shell{
padding-inline: var(--space-4);
}
@media (min-width: 768px){
.explore-shell{
/* ~10% left/right padding on web */
padding-inline: 10vw;
}
}

/* ===== Horizontal scroll utility ===== */
.scroll-x{
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}
.scroll-x::-webkit-scrollbar{ height: 8px; }
.scroll-x::-webkit-scrollbar-thumb{ background: var(--color-primary-2); }

/* ===== Row 1: Primary category icons ===== */
.cat1{ padding-block: 0px; }
.cat1__list{
font-weight: bold;
display: grid;
grid-auto-flow: column;
grid-auto-columns: minmax(72px, 84px);
gap: 14px;
align-items: start;
}

@media (min-width: 768px){
.cat1__list{ grid-auto-columns: 96px; gap: 16px; }}
.cat1__item{ list-style: none; }
.cat1__btn{
display: grid;
gap: 6px;
justify-items: center;
width: 100%;
background: transparent;
cursor: pointer;
}
.cat1__icon-wrap{
width: clamp(48px, 8vw, 72px);
height: clamp(48px, 8vw, 72px);
border: 1px solid var(--thin-stroke);
border-radius: 999px;
display: grid;
place-items: center;
}
.cat1__emoji{ font-size: clamp(22px, 3.4vw, 28px); }
.cat1__img{ width: 60%; height: 60%; object-fit: contain; display: none; } /* when you switch to image, set display:block; and hide emoji */
.cat1__label{
font-size: 15px;
line-height: 1.2;
text-align: center;
white-space: nowrap;
}

.cat1__item.is-active .cat1__icon-wrap{ outline: 2px solid var(--color-accent-3); outline-offset: -2px; color:var(--color-accent-3)}
/* custom thin bar */
.cat1.scroll-x::-webkit-scrollbar,
.cat2.scroll-x::-webkit-scrollbar { height: 2px; }
.cat1.scroll-x::-webkit-scrollbar-thumb,
.cat2.scroll-x::-webkit-scrollbar-thumb { background: var(--color-accent-3); border-radius: 999px; }
.cat1.scroll-x::-webkit-scrollbar-track,
.cat2.scroll-x::-webkit-scrollbar-track { background: transparent; }

.cat1__list, .cat2__list { scroll-snap-type: x proximity; }
.cat1__item, .cat2__pill { scroll-snap-align: start; }




/* ===== Row 2: Subcategory pills ===== */
.cat2{ padding-block: 12px; }
.cat2__list{
display: grid;
grid-auto-flow: column;
grid-auto-columns: max-content;
gap: 10px;
list-style: none; padding: 0; margin: 0;
}
.cat2__list > li { list-style: none; }

.cat2__pill{
display: inline-grid;
grid-auto-flow: column;
align-items: center;
gap: 8px;
padding: 8px 12px;

border-radius: var(--radius-button);
background: #fff;
cursor: pointer;
font-size: 14px;
}
.cat2__pill.is-active{ outline: 2px solid var(--ink); outline-offset: -2px; }
.cat2__icon{ font-size: 16px; }
.cat2__label{ white-space: nowrap; }

/* Info bar (left: count/recommended, right: sort) */
.info-bar{display:flex; align-items:center; justify-content:space-between; gap:12px;padding-top:10px; margin:0 20px}
.info-left{font-weight:700}

/* Sort controls */
.sort-btn{z-index:1;border:1px solid var(--stroke); background:#fff; border-radius:10px; padding:8px 12px; font-weight:600; display:flex; align-items:center; gap:8px}
.sort-desktop{position:relative; display:none}
.sort-menu{position:absolute; right:0; top:calc(100% + 8px); width:240px; background:#fff; border:1px solid var(--stroke); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.15); display:none}
.sort-menu.open{display:block}
.sort-option{display:block; width:100%; text-align:left; background:#fff; border:0; padding:10px 12px; font-weight:600; cursor:pointer}
.sort-option.active{background:#f5f5f5}

.sort-mobile{display:flex}

/* Bottom sheet for mobile sort */
.sort-layer{position:fixed; inset:0; z-index:110; display:none}
.sort-layer.open{display:block}
.sort-layer .scrim{position:absolute; inset:0; background:rgba(0,0,0,.56)}
.sort-sheet{position:fixed; left:0; right:0; bottom:0; background:#fff; border-top-left-radius:16px; border-top-right-radius:16px; padding:16px}
.sheet-title{font-family:var(--ff-mont); font-weight:700; margin-bottom:8px}
.sheet-option{display:block; width:100%; text-align:left; padding:12px 4px;  background:#fff; font-weight:600}
.sheet-option:last-child{border-bottom:none}
.sheet-option.active{background:#f5f5f5}





/* Product grid */
.product-grid{display:grid; gap:var(--space-4);margin:30px}

/* Vertical card */
.card-v{border:1px solid var(--stroke); border-radius:14px; background:#fff; overflow:hidden}
.pv-img{position:relative; aspect-ratio:1/1; background:#eee}
.icon-circle{width:34px; height:34px; border-radius:999px; border:1px solid var(--stroke); background:#fff; display:grid; place-items:center; box-shadow:0 1px 3px rgba(0,0,0,.06)}
.wish{position:absolute; top:8px; right:8px}
.add{position:absolute; right:8px; bottom:8px}
.pv-meta{padding:10px 12px}
.pv-name{font-size:14px; line-height:1.25; height:2.5em; overflow:hidden}
.pv-price{margin-top:6px; display:flex; align-items:baseline; gap:8px}
.pv-price .price{font-weight:800}
.pv-price .was{text-decoration:line-through; color:var(--muted)}
.badge{display:inline-block; margin-top:8px; border:1px solid #f28aa1; color:#f28aa1; padding:4px 8px; border-radius:999px; font-size:12px; font-weight:700}

/* Horizontal card */
.card-h{border:1px solid var(--stroke); border-radius:14px; background:#fff; display:grid; grid-template-columns:96px 1fr auto; gap:12px; align-items:center; padding:10px}
.ph-img{position:relative; width:96px; height:96px; background:#eee; border-radius:10px}
.ph-img .wish{position:absolute; top:6px; right:6px}
.ph-meta .ph-name{font-size:14px; line-height:1.25; max-height:2.5em; overflow:hidden}
.ph-meta .ph-price{margin-top:6px; display:flex; align-items:baseline; gap:8px}
.ph-meta .price{font-weight:800}
.ph-meta .was{text-decoration:line-through; color:var(--muted)}
.ph-meta .badge{margin-top:6px}
.ph-actions .add{position:static}

  /* Responsive rules */
/* Mobile: 1 column horizontal cards */
@media (max-width: 767px){
  .sort-desktop{display:none}
  .sort-mobile{display:flex}
  .product-grid{grid-template-columns:1fr}
  .card-v{display:none}
  .card-h{display:grid}
}
/* Desktop: up to 4 columns vertical cards */
@media (min-width: 768px){
  .sort-desktop{display:flex}
  .sort-mobile{display:none}
  .product-grid{grid-template-columns:repeat(4,1fr)}
  .card-v{display:block}
  .card-h{display:none}
} /* === Product card base & responsive (gray placeholders for now) === */
.icon-circle{width:34px;height:34px;border-radius:999px;border:1px solid var(--stroke);background:#fff;display:grid;place-items:center;box-shadow:0 1px 3px rgba(0,0,0,.06)}
.wish{position:absolute;top:8px;right:8px;z-index:2}
.add{position:absolute;right:8px;bottom:8px;z-index:2}

.card-v{border:1px solid var(--stroke);border-radius:var(--radius);background:#fff;overflow:hidden;display:flex;flex-direction:column;height:100%}
.pv-img{position:relative;aspect-ratio:1/1;background:#eee;overflow:hidden}
.pv-meta{padding:10px 12px;display:flex;flex-direction:column;gap:6px;flex:1}
.pv-name{font-size:14px;line-height:1.25;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.5em}
.pv-price{display:flex;gap:8px;align-items:baseline}
.pv-price .price{font-weight:800}
.pv-price .was{text-decoration:line-through;color:var(--muted)}
.badge{display:inline-block;margin-top:6px;border:1px solid #f28aa1;color:#f28aa1;padding:3px 8px;border-radius:999px;font-size:12px;font-weight:700}

.card-h{border:1px solid var(--stroke);border-radius:var(--radius);background:#fff;display:grid;grid-template-columns:96px 1fr auto;gap:12px;align-items:center;padding:10px}
.ph-img{position:relative;width:96px;height:96px;background:#eee;border-radius:10px;overflow:hidden}
.ph-meta .ph-name{font-size:14px;line-height:1.25;max-height:2.5em;overflow:hidden}
.ph-meta .ph-price{margin-top:6px;display:flex;gap:8px;align-items:baseline}
.ph-meta .price{font-weight:800}
.ph-meta .was{color:var(--muted);text-decoration:line-through}

/* Responsive: mobile uses horizontal, desktop uses vertical */
@media (max-width: 767px){
  .product-grid{display:grid;gap:var(--space-4);grid-template-columns:1fr}
  .card-v{display:none}
  .card-h{display:grid}
}
@media (min-width: 768px){
  .product-grid{display:grid;gap:var(--space-4);grid-template-columns:repeat(4,1fr);align-items:stretch}
  .card-v{display:flex}
  .card-h{display:none}
}



/* ===== Account page shell ===== */
.account-shell{
padding-inline: var(--space-4);           /* mobile: 留一点边距 */
}
@media (min-width: 768px){
.account-shell{ padding-inline: 0; }      /* web: 两边 0% margin */
}

/* Web: 3:7 split ; Mobile: stacked */
.account-grid{
display: grid;
grid-template-columns: 1fr;               /* mobile */
gap: 16px;
align-items: start;
}
@media (min-width: 768px){
.account-grid{
grid-template-columns: 3fr 7fr;         /* web 3:7 */
gap: 24px;
}
}

/* ===== Welcome ===== */
.welcome{
display: grid;
justify-items: center;
text-align: center;
margin-top:70px;
  /* 细线，轻微圆角 */
;
}
.welcome__avatar{
width: clamp(80px, 14vw, 120px);
height: clamp(80px, 14vw, 120px);
border-radius: 999px;
overflow: hidden;
border: 1px solid var(--thin-stroke);
background: #fff;
}
.welcome__avatar img{ width: 100%; height: 100%; object-fit: cover; display: block; }
.welcome__headline{ margin: 12px 0 0; }
.welcome__name{ font-size: 24px; font-weight: var(--fw-bold); }
.welcome__tag{ font-size: 20px; }

/* ===== Info section ===== */
.info{margin:30px;}

.infocards{
display: grid;
grid-template-columns: 1fr;                           /* mobile: 一列，等宽 */
gap: 12px;
}
@media (min-width: 768px){
.infocards{
grid-template-columns: repeat(2, minmax(260px, 1fr));/* web: 自适应两列 */
gap: 16px;
}

}




/* Pillcase card */
.infocard{
border: 1px solid var(--thin-stroke);
border-radius: 20px;                    /* pillcase */
background: var(--bg);
overflow: hidden;                        /* 让内部“子栏”边线贴合 */
}
.infocard__title{
padding: 12px 16px;
font-size: 16px;
font-weight: var(--fw-semibold);
line-height: 1.2;
}
.infocard__list{
list-style: none; margin: 0; padding: 0;
border-top: 1px solid var(--thin-stroke); /* 标题与列表之间的线 */
}
.infocard__item{
display: grid; grid-template-columns: 24px 1fr;
align-items: center; gap: 10px;
padding: 10px 16px;
}
.infocard__item + .infocard__item{ border-top: 1px solid var(--thin-stroke); } /* 子栏“贴合” */
.infocard__icon{ font-size: 16px; line-height: 1; }
.infocard__label{ font-size: 14px; }

/* Simple pill (no sub-list) */
.infocard--simple .infocard__title{ margin: 0; }
.infocard__body{ padding: 0 16px 16px; font-size: 14px; }


/* =============================
    SEARCH OVERLAY / DROPDOWN
    ============================= */
    body.no-scroll{overflow:hidden}
.search-layer{position:fixed; inset:0; z-index:100; display:none}
.search-layer.open{display:block}
.search-layer .scrim{position:absolute; inset:0; background:rgba(0,0,0,.56)}
.search-panel{position:fixed; left:50%; transform:translateX(-50%); top:calc(var(--slogan-h) + var(--header-h) + 16px); width:min(960px,92vw); max-height:72vh; overflow:auto; background:var(--card); border:1px solid var(--stroke); border-radius:16px; box-shadow:0 30px 80px rgba(0,0,0,.25)}
.search-panel__header{display:flex; align-items:center; gap:8px; padding:12px 16px; border-bottom:1px solid var(--stroke); position:sticky; top:0; background:var(--card); z-index:1}
.back-btn{appearance:none; background:#fff; border:1px solid var(--stroke); border-radius:10px; width:36px; height:36px; display:grid; place-items:center; font-size:18px; cursor:pointer}
.searchbar--panel{flex:1; background:#fff; border:1px solid var(--stroke); border-radius:14px; padding:8px 10px}
.searchbar--panel input{width:100%; border:none; outline:none; font-size:16px}
.search-panel__body{padding:8px 16px 20px}
.search-section{margin:14px 0}
.search-section h3{font-family:var(--ff-mont); font-size:14px; color:#333; margin:0 0 10px}
/* chips reuse existing .chip-row/.chip */

    /* Bought before product row */
    .product-row{display:grid; grid-auto-flow:column; grid-auto-columns:140px; gap:12px; overflow-x:auto; padding-bottom:6px}
.pcard{border:1px solid var(--stroke); border-radius:12px; background:#fff}
.pcard .img{aspect-ratio:1/1; background:#eee}
.pcard .meta{padding:8px}
.pcard .name{font-size:13px; line-height:1.2; height:2.4em; overflow:hidden}
.pcard .price{margin-top:4px; font-weight:700}

/* Mobile: full-screen search panel */
@media (max-width: 767px){
  .search-panel{left:0; right:0; top:0; transform:none; width:100vw; height:100vh; max-height:none; border-radius:0}
  .search-panel__body{padding-bottom:calc(var(--tabbar-h) + 24px + var(--safe-bottom))}
}